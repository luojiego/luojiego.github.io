<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>远程控制完整指南：从局域网到云端的全方位解决方案 | Roger&#39;s Blog</title>
<meta name="keywords" content="总结, 工具">
<meta name="description" content="在现代工作环境中，远程控制已成为提高工作效率和灵活性的重要工具。无论是在家办公、技术支持还是多设备协作，掌握各种远程控制方案都显得尤为重要。本文将详细介绍从同一局域网内的桌面连接到跨网络的远程控制解决方案。">
<meta name="author" content="Roger">
<link rel="canonical" href="https://luojiego.com/posts/remote-control-solutions/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.0e5d6dc76b835c8dd8952a3e208138272856ca7781a17e058123153dbcd6a4c8.css" integrity="sha256-Dl1tx2uDXI3YlSo&#43;IIE4JyhWyneBoX4FgSMVPbzWpMg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://luojiego.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://luojiego.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://luojiego.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://luojiego.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://luojiego.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://luojiego.com/posts/remote-control-solutions/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-BEV0Q1G3S5"></script>
      <script>
        var doNotTrack = false;
        if ( true ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-BEV0Q1G3S5');
        }
      </script><meta property="og:url" content="https://luojiego.com/posts/remote-control-solutions/">
  <meta property="og:site_name" content="Roger&#39;s Blog">
  <meta property="og:title" content="远程控制完整指南：从局域网到云端的全方位解决方案">
  <meta property="og:description" content="在现代工作环境中，远程控制已成为提高工作效率和灵活性的重要工具。无论是在家办公、技术支持还是多设备协作，掌握各种远程控制方案都显得尤为重要。本文将详细介绍从同一局域网内的桌面连接到跨网络的远程控制解决方案。">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-16T21:41:15+08:00">
    <meta property="article:modified_time" content="2025-06-16T21:41:15+08:00">
    <meta property="article:tag" content="总结">
    <meta property="article:tag" content="工具">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="远程控制完整指南：从局域网到云端的全方位解决方案">
<meta name="twitter:description" content="在现代工作环境中，远程控制已成为提高工作效率和灵活性的重要工具。无论是在家办公、技术支持还是多设备协作，掌握各种远程控制方案都显得尤为重要。本文将详细介绍从同一局域网内的桌面连接到跨网络的远程控制解决方案。">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://luojiego.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "远程控制完整指南：从局域网到云端的全方位解决方案",
      "item": "https://luojiego.com/posts/remote-control-solutions/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "远程控制完整指南：从局域网到云端的全方位解决方案",
  "name": "远程控制完整指南：从局域网到云端的全方位解决方案",
  "description": "在现代工作环境中，远程控制已成为提高工作效率和灵活性的重要工具。无论是在家办公、技术支持还是多设备协作，掌握各种远程控制方案都显得尤为重要。本文将详细介绍从同一局域网内的桌面连接到跨网络的远程控制解决方案。\n",
  "keywords": [
    "总结", "工具"
  ],
  "articleBody": "在现代工作环境中，远程控制已成为提高工作效率和灵活性的重要工具。无论是在家办公、技术支持还是多设备协作，掌握各种远程控制方案都显得尤为重要。本文将详细介绍从同一局域网内的桌面连接到跨网络的远程控制解决方案。\n同一局域网的桌面连接解决方案 Mac 控制 Windows 在 MacOS 上控制 Windows 设备是最简单的方案之一。苹果在 App Store 提供了官方的远程桌面客户端。\n安装步骤：\n在 Mac 上打开 App Store 搜索 “Windows App”（这是新的名称，旧版本叫 “Microsoft Remote Desktop”） 下载并安装应用 连接设置：\n在 Windows 设备上启用远程桌面功能： 打开\"设置\" → “系统” → “远程桌面” 启用\"启用远程桌面\" 在 Mac 上打开 Windows App 点击\"添加桌面\"，输入 Windows 设备的 IP 地址 输入 Windows 的用户名和密码即可连接 Mac 控制 Mac MacOS 系统内置了强大的屏幕共享功能，可以通过访达（Finder）直接实现。\n设置步骤：\n在目标 Mac 上开启屏幕共享： 打开\"系统偏好设置\" → “共享” 勾选\"屏幕共享\" 设置允许访问的用户 在控制端 Mac 上： 打开访达（Finder） 在侧边栏找到目标 Mac（或按 ⌘+K 手动连接） 点击\"共享屏幕\"按钮 输入凭据即可连接 Windows 控制 Mac 虽然使用频率不高，但有时确实需要从 PC 控制 Mac。推荐使用 VNC（Virtual Network Computing）协议。\n设置步骤：\n在 Mac 上启用 VNC： 打开\"系统偏好设置\" → “共享” 勾选\"屏幕共享\" 点击\"电脑设置\"，启用\"VNC 显示程序可以使用密码控制屏幕\" 设置 VNC 密码 在 Windows 上安装 VNC 客户端（如 RealVNC Viewer） 输入 Mac 的 IP 地址和 VNC 密码连接 使用 RustDesk 自建远程桌面控制 考虑到 TeamViewer 曾出现的安全问题，以及向日葵等商业软件在画质和功能上的限制，自建 RustDesk 服务器是一个优秀的替代方案，毕竟我并没有长期使用远程桌面的需求，恰好有闲置的云服务器，那就好好利用一下。\n云主机端部署 安装脚本：\nwget https://raw.githubusercontent.com/techahold/rustdeskinstall/master/install.sh chmod +x install.sh ./install.sh 重要的安全组设置：\nRustDesk 使用的端口范围在 21110-21120 之间，必须在云服务器的安全组中开放这些端口：\n登录云服务器控制台 找到安全组设置 添加入站规则： 端口范围：21110-21120 协议：TCP 和 UDP（两者都必须添加） 来源：根据需要设置（建议限制 IP 范围以提高安全性） 获取 Public Key：\n安装完成后，屏幕会显示一个 public key，务必保存好这个密钥，客户端连接时需要使用。如果错过了屏幕显示，可以在日志文件中找到：\ncat /var/log/rustdesk/signalserver.log 客户端配置 PC/Android 客户端：\n访问 https://github.com/rustdesk/rustdesk/releases 下载对应平台的客户端 安装后在设置中配置自建服务器地址和 public key iOS 客户端：\n直接在 App Store 搜索 “RustDesk” 下载 同样需要配置服务器信息 连接步骤：\n打开 RustDesk 客户端 在设置中输入自建服务器的 IP 地址 输入保存的 public key 获取目标设备的 ID 和密码即可连接 更常用的 SSH 终端远程控制 对于开发人员来说，SSH 连接往往比图形界面远程控制更加高效和实用。\n本地 SSH 连接 Mac 系统对 SSH 支持完善，可以直接使用终端：\nssh username@target_ip 结合 VS Code Remote 开发 现代开发工作流中，很少直接在 Windows 上进行开发，更多是使用 VS Code 的 Remote 功能连接 Linux 进行开发：\n安装 VS Code 的 “Remote - SSH” 扩展 按 F1 打开命令面板，输入 “Remote-SSH: Connect to Host” 输入 SSH 连接信息即可在远程环境中开发 使用 FRP 实现内网穿透 当需要访问位于 NAT 后面的设备时，可以使用 FRP（Fast Reverse Proxy）服务。\n云主机端配置（frps）：\n下载 FRP： wget https://github.com/fatedier/frp/releases/download/v0.52.3/frp_0.52.3_linux_amd64.tar.gz tar -xzf frp_0.52.3_linux_amd64.tar.gz cd frp_0.52.3_linux_amd64 编辑 frps.ini： [common] bind_port = 7000 token = your_secure_token 启动服务： ./frps -c frps.ini 本地 Ubuntu 客户端配置（frpc）：\n下载并解压 FRP 客户端 编辑 frpc.ini： [common] server_addr = your_server_ip server_port = 7000 token = your_secure_token [ssh] type = tcp local_ip = 127.0.0.1 local_port = 22 remote_port = 2222 使用 systemd 创建服务： sudo vim /etc/systemd/system/frpc.service 内容如下：\n[Unit] Description=FRP Client After=network.target [Service] Type=simple User=root ExecStart=/path/to/frpc -c /path/to/frpc.ini Restart=on-failure RestartSec=5s [Install] WantedBy=multi-user.target 启用并启动服务： sudo systemctl enable frpc sudo systemctl start frpc 这样配置后，就可以通过云主机的 2222 端口 SSH 连接到内网的 Ubuntu 设备了：\nssh -p 2222 username@your_server_ip 总结 不同的远程控制方案适用于不同的场景：\n局域网内：优先使用系统内置方案，简单可靠 跨网络图形界面：推荐自建 RustDesk，安全性和性能都有保障 开发工作：SSH + VS Code Remote 是最佳组合 内网穿透：FRP 提供了稳定的解决方案 选择合适的远程控制方案，可以大大提高工作效率和灵活性。在实际使用中，建议根据具体需求组合使用多种方案，以获得最佳的远程控制体验。\n",
  "wordCount" : "346",
  "inLanguage": "en",
  "datePublished": "2025-06-16T21:41:15+08:00",
  "dateModified": "2025-06-16T21:41:15+08:00",
  "author":{
    "@type": "Person",
    "name": "Roger"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://luojiego.com/posts/remote-control-solutions/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Roger's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://luojiego.com/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://luojiego.com/" accesskey="h" title="Roger&#39;s Blog (Alt + H)">Roger&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://luojiego.com/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
            <li>
                <a href="https://luojiego.com/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://luojiego.com/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://luojiego.com/">Home</a>&nbsp;»&nbsp;<a href="https://luojiego.com/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      远程控制完整指南：从局域网到云端的全方位解决方案
    </h1>
    <div class="post-meta">2025-06-16 · 8 分钟 · 约 3685 字

</div>
  </header> 
  <div class="post-content"><p>在现代工作环境中，远程控制已成为提高工作效率和灵活性的重要工具。无论是在家办公、技术支持还是多设备协作，掌握各种远程控制方案都显得尤为重要。本文将详细介绍从同一局域网内的桌面连接到跨网络的远程控制解决方案。</p>
<h2 id="同一局域网的桌面连接解决方案">同一局域网的桌面连接解决方案<a hidden class="anchor" aria-hidden="true" href="#同一局域网的桌面连接解决方案">#</a></h2>
<h3 id="mac-控制-windows">Mac 控制 Windows<a hidden class="anchor" aria-hidden="true" href="#mac-控制-windows">#</a></h3>
<p>在 MacOS 上控制 Windows 设备是最简单的方案之一。苹果在 App Store 提供了官方的远程桌面客户端。</p>
<p><strong>安装步骤：</strong></p>
<ol>
<li>在 Mac 上打开 App Store</li>
<li>搜索 &ldquo;Windows App&rdquo;（这是新的名称，旧版本叫 &ldquo;Microsoft Remote Desktop&rdquo;）</li>
<li>下载并安装应用</li>
</ol>
<p><strong>连接设置：</strong></p>
<ol>
<li>在 Windows 设备上启用远程桌面功能：
<ul>
<li>打开&quot;设置&quot; → &ldquo;系统&rdquo; → &ldquo;远程桌面&rdquo;</li>
<li>启用&quot;启用远程桌面&quot;</li>
</ul>
</li>
<li>在 Mac 上打开 Windows App</li>
<li>点击&quot;添加桌面&quot;，输入 Windows 设备的 IP 地址</li>
<li>输入 Windows 的用户名和密码即可连接</li>
</ol>
<h3 id="mac-控制-mac">Mac 控制 Mac<a hidden class="anchor" aria-hidden="true" href="#mac-控制-mac">#</a></h3>
<p>MacOS 系统内置了强大的屏幕共享功能，可以通过访达（Finder）直接实现。</p>
<p><strong>设置步骤：</strong></p>
<ol>
<li>在目标 Mac 上开启屏幕共享：
<ul>
<li>打开&quot;系统偏好设置&quot; → &ldquo;共享&rdquo;</li>
<li>勾选&quot;屏幕共享&quot;</li>
<li>设置允许访问的用户</li>
</ul>
</li>
<li>在控制端 Mac 上：
<ul>
<li>打开访达（Finder）</li>
<li>在侧边栏找到目标 Mac（或按 ⌘+K 手动连接）</li>
<li>点击&quot;共享屏幕&quot;按钮</li>
<li>输入凭据即可连接</li>
</ul>
</li>
</ol>
<h3 id="windows-控制-mac">Windows 控制 Mac<a hidden class="anchor" aria-hidden="true" href="#windows-控制-mac">#</a></h3>
<p>虽然使用频率不高，但有时确实需要从 PC 控制 Mac。推荐使用 VNC（Virtual Network Computing）协议。</p>
<p><strong>设置步骤：</strong></p>
<ol>
<li>在 Mac 上启用 VNC：
<ul>
<li>打开&quot;系统偏好设置&quot; → &ldquo;共享&rdquo;</li>
<li>勾选&quot;屏幕共享&quot;</li>
<li>点击&quot;电脑设置&quot;，启用&quot;VNC 显示程序可以使用密码控制屏幕&quot;</li>
<li>设置 VNC 密码</li>
</ul>
</li>
<li>在 Windows 上安装 VNC 客户端（如 RealVNC Viewer）</li>
<li>输入 Mac 的 IP 地址和 VNC 密码连接</li>
</ol>
<h2 id="使用-rustdesk-自建远程桌面控制">使用 RustDesk 自建远程桌面控制<a hidden class="anchor" aria-hidden="true" href="#使用-rustdesk-自建远程桌面控制">#</a></h2>
<p>考虑到 TeamViewer 曾出现的安全问题，以及向日葵等商业软件在画质和功能上的限制，自建 RustDesk 服务器是一个优秀的替代方案，毕竟我并没有长期使用远程桌面的需求，恰好有闲置的云服务器，那就好好利用一下。</p>
<h3 id="云主机端部署">云主机端部署<a hidden class="anchor" aria-hidden="true" href="#云主机端部署">#</a></h3>
<p><strong>安装脚本：</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">wget https://raw.githubusercontent.com/techahold/rustdeskinstall/master/install.sh
</span></span><span class="line"><span class="cl">chmod +x install.sh
</span></span><span class="line"><span class="cl">./install.sh
</span></span></code></pre></div><p><strong>重要的安全组设置：</strong><br>
RustDesk 使用的端口范围在 21110-21120 之间，必须在云服务器的安全组中开放这些端口：</p>
<ol>
<li>登录云服务器控制台</li>
<li>找到安全组设置</li>
<li>添加入站规则：
<ul>
<li>端口范围：21110-21120</li>
<li>协议：TCP 和 UDP（两者都必须添加）</li>
<li>来源：根据需要设置（建议限制 IP 范围以提高安全性）</li>
</ul>
</li>
</ol>
<p><strong>获取 Public Key：</strong><br>
安装完成后，屏幕会显示一个 public key，务必保存好这个密钥，客户端连接时需要使用。如果错过了屏幕显示，可以在日志文件中找到：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /var/log/rustdesk/signalserver.log
</span></span></code></pre></div><h3 id="客户端配置">客户端配置<a hidden class="anchor" aria-hidden="true" href="#客户端配置">#</a></h3>
<p><strong>PC/Android 客户端：</strong></p>
<ul>
<li>访问 <a href="https://github.com/rustdesk/rustdesk/releases">https://github.com/rustdesk/rustdesk/releases</a> 下载对应平台的客户端</li>
<li>安装后在设置中配置自建服务器地址和 public key</li>
</ul>
<p><strong>iOS 客户端：</strong></p>
<ul>
<li>直接在 App Store 搜索 &ldquo;RustDesk&rdquo; 下载</li>
<li>同样需要配置服务器信息</li>
</ul>
<p><strong>连接步骤：</strong></p>
<ol>
<li>打开 RustDesk 客户端</li>
<li>在设置中输入自建服务器的 IP 地址</li>
<li>输入保存的 public key</li>
<li>获取目标设备的 ID 和密码即可连接</li>
</ol>
<h2 id="更常用的-ssh-终端远程控制">更常用的 SSH 终端远程控制<a hidden class="anchor" aria-hidden="true" href="#更常用的-ssh-终端远程控制">#</a></h2>
<p>对于开发人员来说，SSH 连接往往比图形界面远程控制更加高效和实用。</p>
<h3 id="本地-ssh-连接">本地 SSH 连接<a hidden class="anchor" aria-hidden="true" href="#本地-ssh-连接">#</a></h3>
<p>Mac 系统对 SSH 支持完善，可以直接使用终端：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ssh username@target_ip
</span></span></code></pre></div><h3 id="结合-vs-code-remote-开发">结合 VS Code Remote 开发<a hidden class="anchor" aria-hidden="true" href="#结合-vs-code-remote-开发">#</a></h3>
<p>现代开发工作流中，很少直接在 Windows 上进行开发，更多是使用 VS Code 的 Remote 功能连接 Linux 进行开发：</p>
<ol>
<li>安装 VS Code 的 &ldquo;Remote - SSH&rdquo; 扩展</li>
<li>按 F1 打开命令面板，输入 &ldquo;Remote-SSH: Connect to Host&rdquo;</li>
<li>输入 SSH 连接信息即可在远程环境中开发</li>
</ol>
<h3 id="使用-frp-实现内网穿透">使用 FRP 实现内网穿透<a hidden class="anchor" aria-hidden="true" href="#使用-frp-实现内网穿透">#</a></h3>
<p>当需要访问位于 NAT 后面的设备时，可以使用 FRP（Fast Reverse Proxy）服务。</p>
<p><strong>云主机端配置（frps）：</strong></p>
<ol>
<li>下载 FRP：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">wget https://github.com/fatedier/frp/releases/download/v0.52.3/frp_0.52.3_linux_amd64.tar.gz
</span></span><span class="line"><span class="cl">tar -xzf frp_0.52.3_linux_amd64.tar.gz
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> frp_0.52.3_linux_amd64
</span></span></code></pre></div><ol start="2">
<li>编辑 frps.ini：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[common]</span>
</span></span><span class="line"><span class="cl"><span class="na">bind_port</span> <span class="o">=</span> <span class="s">7000</span>
</span></span><span class="line"><span class="cl"><span class="na">token</span> <span class="o">=</span> <span class="s">your_secure_token</span>
</span></span></code></pre></div><ol start="3">
<li>启动服务：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./frps -c frps.ini
</span></span></code></pre></div><p><strong>本地 Ubuntu 客户端配置（frpc）：</strong></p>
<ol>
<li>下载并解压 FRP 客户端</li>
<li>编辑 frpc.ini：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[common]</span>
</span></span><span class="line"><span class="cl"><span class="na">server_addr</span> <span class="o">=</span> <span class="s">your_server_ip</span>
</span></span><span class="line"><span class="cl"><span class="na">server_port</span> <span class="o">=</span> <span class="s">7000</span>
</span></span><span class="line"><span class="cl"><span class="na">token</span> <span class="o">=</span> <span class="s">your_secure_token</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[ssh]</span>
</span></span><span class="line"><span class="cl"><span class="na">type</span> <span class="o">=</span> <span class="s">tcp</span>
</span></span><span class="line"><span class="cl"><span class="na">local_ip</span> <span class="o">=</span> <span class="s">127.0.0.1</span>
</span></span><span class="line"><span class="cl"><span class="na">local_port</span> <span class="o">=</span> <span class="s">22</span>
</span></span><span class="line"><span class="cl"><span class="na">remote_port</span> <span class="o">=</span> <span class="s">2222</span>
</span></span></code></pre></div><ol start="3">
<li>使用 systemd 创建服务：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/systemd/system/frpc.service
</span></span></code></pre></div><p>内容如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[Unit]</span>
</span></span><span class="line"><span class="cl"><span class="na">Description</span><span class="o">=</span><span class="s">FRP Client</span>
</span></span><span class="line"><span class="cl"><span class="na">After</span><span class="o">=</span><span class="s">network.target</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[Service]</span>
</span></span><span class="line"><span class="cl"><span class="na">Type</span><span class="o">=</span><span class="s">simple</span>
</span></span><span class="line"><span class="cl"><span class="na">User</span><span class="o">=</span><span class="s">root</span>
</span></span><span class="line"><span class="cl"><span class="na">ExecStart</span><span class="o">=</span><span class="s">/path/to/frpc -c /path/to/frpc.ini</span>
</span></span><span class="line"><span class="cl"><span class="na">Restart</span><span class="o">=</span><span class="s">on-failure</span>
</span></span><span class="line"><span class="cl"><span class="na">RestartSec</span><span class="o">=</span><span class="s">5s</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[Install]</span>
</span></span><span class="line"><span class="cl"><span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</span></span></code></pre></div><ol start="4">
<li>启用并启动服务：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo systemctl <span class="nb">enable</span> frpc
</span></span><span class="line"><span class="cl">sudo systemctl start frpc
</span></span></code></pre></div><p>这样配置后，就可以通过云主机的 2222 端口 SSH 连接到内网的 Ubuntu 设备了：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ssh -p <span class="m">2222</span> username@your_server_ip
</span></span></code></pre></div><h2 id="总结">总结<a hidden class="anchor" aria-hidden="true" href="#总结">#</a></h2>
<p>不同的远程控制方案适用于不同的场景：</p>
<ul>
<li><strong>局域网内</strong>：优先使用系统内置方案，简单可靠</li>
<li><strong>跨网络图形界面</strong>：推荐自建 RustDesk，安全性和性能都有保障</li>
<li><strong>开发工作</strong>：SSH + VS Code Remote 是最佳组合</li>
<li><strong>内网穿透</strong>：FRP 提供了稳定的解决方案</li>
</ul>
<p>选择合适的远程控制方案，可以大大提高工作效率和灵活性。在实际使用中，建议根据具体需求组合使用多种方案，以获得最佳的远程控制体验。</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://luojiego.com/tags/%E6%80%BB%E7%BB%93/">总结</a></li>
      <li><a href="https://luojiego.com/tags/%E5%B7%A5%E5%85%B7/">工具</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://luojiego.com/posts/from-cplusplus-to-full-stack/">
    <span class="title">« Prev</span>
    <br>
    <span>从 C&#43;&#43; 向全栈方向迈进</span>
  </a>
  <a class="next" href="https://luojiego.com/posts/my-father-before-me/">
    <span class="title">Next »</span>
    <br>
    <span>陪伴的艺术-《何以为父》读书笔记</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 远程控制完整指南：从局域网到云端的全方位解决方案 on x"
            href="https://x.com/intent/tweet/?text=%e8%bf%9c%e7%a8%8b%e6%8e%a7%e5%88%b6%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%b1%80%e5%9f%9f%e7%bd%91%e5%88%b0%e4%ba%91%e7%ab%af%e7%9a%84%e5%85%a8%e6%96%b9%e4%bd%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88&amp;url=https%3a%2f%2fluojiego.com%2fposts%2fremote-control-solutions%2f&amp;hashtags=%e6%80%bb%e7%bb%93%2c%e5%b7%a5%e5%85%b7">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 远程控制完整指南：从局域网到云端的全方位解决方案 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fluojiego.com%2fposts%2fremote-control-solutions%2f&amp;title=%e8%bf%9c%e7%a8%8b%e6%8e%a7%e5%88%b6%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%b1%80%e5%9f%9f%e7%bd%91%e5%88%b0%e4%ba%91%e7%ab%af%e7%9a%84%e5%85%a8%e6%96%b9%e4%bd%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88&amp;summary=%e8%bf%9c%e7%a8%8b%e6%8e%a7%e5%88%b6%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%b1%80%e5%9f%9f%e7%bd%91%e5%88%b0%e4%ba%91%e7%ab%af%e7%9a%84%e5%85%a8%e6%96%b9%e4%bd%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88&amp;source=https%3a%2f%2fluojiego.com%2fposts%2fremote-control-solutions%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 远程控制完整指南：从局域网到云端的全方位解决方案 on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fluojiego.com%2fposts%2fremote-control-solutions%2f&title=%e8%bf%9c%e7%a8%8b%e6%8e%a7%e5%88%b6%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%b1%80%e5%9f%9f%e7%bd%91%e5%88%b0%e4%ba%91%e7%ab%af%e7%9a%84%e5%85%a8%e6%96%b9%e4%bd%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 远程控制完整指南：从局域网到云端的全方位解决方案 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fluojiego.com%2fposts%2fremote-control-solutions%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 远程控制完整指南：从局域网到云端的全方位解决方案 on whatsapp"
            href="https://api.whatsapp.com/send?text=%e8%bf%9c%e7%a8%8b%e6%8e%a7%e5%88%b6%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%b1%80%e5%9f%9f%e7%bd%91%e5%88%b0%e4%ba%91%e7%ab%af%e7%9a%84%e5%85%a8%e6%96%b9%e4%bd%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88%20-%20https%3a%2f%2fluojiego.com%2fposts%2fremote-control-solutions%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 远程控制完整指南：从局域网到云端的全方位解决方案 on telegram"
            href="https://telegram.me/share/url?text=%e8%bf%9c%e7%a8%8b%e6%8e%a7%e5%88%b6%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%b1%80%e5%9f%9f%e7%bd%91%e5%88%b0%e4%ba%91%e7%ab%af%e7%9a%84%e5%85%a8%e6%96%b9%e4%bd%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88&amp;url=https%3a%2f%2fluojiego.com%2fposts%2fremote-control-solutions%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 远程控制完整指南：从局域网到云端的全方位解决方案 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=%e8%bf%9c%e7%a8%8b%e6%8e%a7%e5%88%b6%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%b1%80%e5%9f%9f%e7%bd%91%e5%88%b0%e4%ba%91%e7%ab%af%e7%9a%84%e5%85%a8%e6%96%b9%e4%bd%8d%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88&u=https%3a%2f%2fluojiego.com%2fposts%2fremote-control-solutions%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer><script src="https://utteranc.es/client.js"
        repo="luojiego/luojiego.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://luojiego.com/">Roger&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
